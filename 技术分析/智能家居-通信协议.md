# 智能家居通信协议技术

###### 参考资料：https://wenku.baidu.com/view/4189e0f585254b35eefdc8d376eeaeaad1f316fa.html《智能家居通讯协议大汇总》

### 一、Zigbee

#### 1、定义

Zigbee是IEEE 802.15.4协议的简称，它来源于蜜蜂的八字舞，蜜蜂(bee)是通过飞翔和“嗡嗡”(zig)抖动翅膀的“舞蹈”来与同伴传递花粉所在方位信息，而ZigBee协议的方式特点与其类似，便更名为ZigBee

#### 2、适用

距离短、功耗低且传输速率不高的各种电子设备之间进行数据传输

典型的有周期性数据、间歇性数据和低反应时间数据传输的应用。

#### 3、优势

##### (1) 低功耗: 

由于ZigBee的传输速率低,发射功率仅为1mW,而且采用了休眠模式，功耗低,因此ZigBee设备非常省电。据估算，ZigBee设备仅靠两节5号电池就可以维持长达6个月到2年左右的使用时间,这是其它无线设备望尘莫及的。

##### (2) 成本低： 

ZigBee模块的初始成本在6美元左右，估计很快就能降到1.5—2.5美元, 并且ZigBee协议是免专利费的。低成本对于ZigBee也是一个关键的因素。

##### (3) 时延短: 

通信时延和从休眠状态激活的时延都非常短，典型的搜索设备时延30ms,休眠激活的时延是15ms, 活动设备信道接入的时延为15ms。因此ZigBee技术适用于对时延要求苛刻的无线控制(如工业控制场合等)应用。

##### (4) 网络容量大： 

一个星型结构的Zigbee网络最多可以容纳254个从设备和一个主设备， 一个区域内可以同时存在最多100个ZigBee网络, 而且网络组成灵活。

##### (5) 可靠:

采取了碰撞避免策略，同时为需要固定带宽的通信业务预留了专用时隙,避开了发送数据的竞争和冲突。MAC层采用了完全确认的数据传输模式， 每个发送的数据包都必须等待接收方的确认信息。如果传输过程中出现问题可以进行重发。

##### (6) 安全： 

ZigBee提供了基于循环冗余校验(CRC)的数据包完整性检查功能,支持鉴权和认证， 采用了AES-128的加密算法,各个应用可以灵活确定其安全属性。

#### 4、缺点

##### 1）传播距离近 （智能家居情况下可以忽略）

若在不适用功率放大器的情况下，一般ZigBee的有效传播距离一般在10m-75m，主要还是适用于一些小型的区域，例如家庭和办公场所。

##### 2）数据信息传输速率低

处于2.4 GHz的频段时，ZigBee也只有250 Kb/s的传播速度，而且这单单是链路上的速率且不包含帧头开销、信道竞争、应答和重传，去除掉这些后实际可应用的速率会低于100 Kb/s，在多个节点运行多个应用时速率还要被他们分享掉。

##### 3）会有延时性

Zigbee在随机接入MAC层的同时不支持时分复用的信道接入方式，因此在支持一些实时的应用时会因为发送多跳和冲突会产生延时

### 二、Bluetooth（蓝牙协议）

#### 1、定义

是一种无线技术标准，可使用2.4—2.485GHz的ISM波段的UHF无线电波实现固定设备、移动设备和楼宇个人域网之间的短距离数据交换

蓝牙技术最初由电信巨头爱立信公司于1994年创制，当时是作为RS232数据线的替代方案。蓝牙可连接多个设备，克服了数据同步的难题。

如今蓝牙由蓝牙技术联盟（Bluetooth Special Interest Group，简称SIG）管理。蓝牙技术联盟在全球拥有超过25,000家成员公司，它们分布在电信、计算机、网络、和消费电子等多重领域。IEEE将蓝牙技术列为IEEE 802.15.1，但如今已不再维持该标准。蓝牙技术联盟负责监督蓝牙规范的开发，管理认证项目，并维护商标权益。制造商的设备必须符合蓝牙技术联盟的标准才能以“蓝牙设备”的名义进入市场。蓝牙技术拥有一套专利网络，可发放给符合标准的设备。

#### 2、适用

可使电子设备在10～100m的空间范围内建立网络连接并进行数据传输或者语音通话的无线通信技术

#### 3、优势

##### 1）功耗低且传输速率快

蓝牙的短数据封包特性是其低功耗技术特点的根本，传输速率可达到1Mb／s，且所有连接均采用先进的嗅探性次额定功能以实现超低的负载循环

###### 嗅探性次额定功能：反正就是一种能够增加电池使用寿命，降低功耗的技术

##### 2）建立连接的时间短

蓝牙用应用程序打开到建立连接只需要短短的3ms，同时能以数毫秒的传输速度完成经认可的数据传递后并立即关闭连接

##### 3）稳定性好

蓝牙低功耗技术使用24位的循环重复检环（CRC），能确保所有封包在受干扰时的最大稳定度

##### 4）安全度高

CCM的AES-128完全加密技术为数据封包提供高度加密性及认证度

#### 4、缺点

##### 1）数据传输的大小受限

##### 2）设备连接数量少（6-7个）

### 三、WiFi（无线保真协议）

#### 1、定义

创建于IEEE 802.11标准的无线局域网技术

#### 2、适用

网络媒体、掌上设备、客运列车等需要无线网络的场合

#### 3、优势

##### 1）传输范围广

WiFi的电波覆盖范围半径高达100m

##### 2）传输速度快

高达54Mb／s

##### 3）健康安全

发射功率大约60～70mW，辐射小

##### 4）普及应用度高

#### 4、缺点

##### 1）功耗大

##### 2）价格贵

##### 3）协议编码复杂

### 四、一些不太常见但其实比较常用的协议简介

#### 1、LPWAN（低功耗广域物联网）

芯片厂商英特尔、高通，通信设备领域华为、诺基亚、爱立信，运营商沃达丰、中国移动等均在加速LPWAN的商用，可能会取代基于WiFi、蓝牙、Zigbee连接的一部分

#### 2、UWB（Ultra Wideband）

无载波通信技术

能在10m左右的范围内实现数百Mbit／s至数Gbit／s的数据传输速率

#### 3、ZWave

#### 4、RF射频协议

较常见应用：无线射频识别（感应式电子晶片、近接卡、非接触卡、电子标签、电子条码）

#### 5、EnOcean协议

国际电工技术委员会采纳的国际标准ISO／IEC14543-3-10

世界上唯一使用能量采集技术的无线国际标准

#### 6、ModBus协议

全球第一个真正用于工业现场的总线协议

#### 7、KNX协议（四、这一部分里面比较重要的）

1999年5月，欧洲三大总线协议EIB、BatiBus和EHSA合并成立了Konnex协会，提出了KNX协议

#### 8、Weave协议

低功耗、低带宽、低延迟、安全的设备间通信协议

#### 9、Thread协议

由三星、Nest、ARM、Big Ass Fans、飞思卡尔和Silicon Labslian he